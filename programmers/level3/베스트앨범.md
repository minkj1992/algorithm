# 1st try
```python
from collections import defaultdict
def solution(genres,plays):
    answer = []
    songs = defaultdict(list)
    total = defaultdict(int)
    for i,(g,p) in enumerate(zip(genres,plays)):
        total[g]+=p
        songs[g].append((p,i))
        
    for genre in sorted(total,reverse=True):
        for idx,val in enumerate(sorted(songs[genre],reverse=True)):
            if idx==2: break
            answer.append(val[1])

    return answer
```

- (2500,4),(2500,5)이면 4,5가나와야하는데 처리를 못한다.

# 2nd try
- num - idx해주고,sort 후 print할때 num-idx로 print해준다.
```python
from collections import defaultdict
def solution(genres,playsz):
    answer = []
    num = len(genres)-1
    songs = defaultdict(list)
    total = defaultdict(int)
    for i,(g,p) in enumerate(zip(genres,plays)):
        total[g]+=p
        songs[g].append((p,num-i))
    for genre in sorted(total,reverse=True):
        for idx,val in enumerate(sorted(songs[genre],reverse=True)):
            print(val)
            if idx==2: break
            answer.append(num-val[1])

    return answer
```
- ["classic", "pop", "classic", "classic", "pop", "zazz", "zazz"], [500, 600, 150, 800, 2500, 2000, 6000], [6, 5, 4, 1, 3, 0]
- ["classic", "pop", "classic", "classic", "pop", "zazz", "zazz"], [500, 600, 150, 800, 2500, 2100, 1000], [4, 1, 5, 6, 3, 0]
- ["classic", "pop", "classic", "pop", "classic", "classic"], [400, 600, 150, 2500, 500, 500], [3, 1, 4, 5]

- 파이썬에서 sorted(dic)은 key 먼저, value 다음으로 순서가 결정나는 듯하다.

# 4th try
```python
from collections import defaultdict

def solution(genres,plays):
    answer = []
    # idx 내림차순 시키기 위해서 사용
    num = len(genres)-1
    # genre : [[plays,idx],[]...]...
    songs = defaultdict(list)
    # 장르별 total play 저장한 사전
    total = defaultdict(int)


    for i,(g,p) in enumerate(zip(genres,plays)):
        total[g]+=p
        songs[g].append((p,num-i))     # print(songs) # defaultdict(<class 'list'>, {'classic': [[500, 0], [150, 2], [800, 3]], 'pop': [[600, 1], [2500, 4]]})
    for genre in sorted(total,key=total.get,reverse=True):
        for idx,val in enumerate(sorted(songs[genre],reverse=True)):
            if idx==2: break
            answer.append(num-val[1])
    return answer
```

# 1등 소스코드

```python
def solution(genres, plays):
    answer = []
    d = {e:[] for e in set(genres)}
    for e in zip(genres, plays, range(len(plays))):
        d[e[0]].append([e[1] , e[2]])
    genreSort =sorted(list(d.keys()), key= lambda x: sum( map(lambda y: y[0],d[x])), reverse = True)
    for g in genreSort:
        temp = [e[1] for e in sorted(d[g],key= lambda x: (x[0], -x[1]), reverse = True)]
        answer += temp[:min(len(temp),2)]
    return answer
```

# 2등 소스코드
```python
import operator
from collections import defaultdict

class Music:
    def __init__(self, id, g, p):
        self.id = id
        self.g = g
        self.p = p

def solution(genres, plays):
    db = []
    g_db = defaultdict(int)
    for i in range(len(genres)):
        db.append(Music(i,genres[i],plays[i]))
        g_db[genres[i]] += plays[i]
    db.sort(key=operator.attrgetter("id"))
    db.sort(key=operator.attrgetter("p"),reverse=True)

    g_db = sorted(g_db.items(),key=operator.itemgetter(1), reverse=True)

    result = []
    for g in g_db:
        idx = 0
        cnt = 0
        while cnt <2:
            if idx >= len(db):
                break
            if db[idx].g == g[0]:
                result.append(db[idx].id)
                cnt += 1
            idx += 1
    return result

```